<!DOCTYPE HTML>
<html lang="en">
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Performance | Introduction</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-anchors/plugin.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="../pagination/Pagination.html">
    
    
    <link rel="prev" href="../http/Http.html">
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="10" data-chapter-title="Performance" data-filepath="performance/Performance.md" data-basepath=".." data-revision="Wed Jul 26 2017 10:26:05 GMT+0000 (UTC)" data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="1" data-path="TOC.html">
            
                
                    <a href="../TOC.html">
                
                        <i class="fa fa-check"></i>
                        
                            
                        
                        Table of Contents
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i><b>1.</b>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="design-principles/DesignPrinciples.html">
            
                
                    <a href="../design-principles/DesignPrinciples.html">
                
                        <i class="fa fa-check"></i><b>2.</b>
                        
                            
                        
                        Principles
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="general-guidelines/GeneralGuidelines.html">
            
                
                    <a href="../general-guidelines/GeneralGuidelines.html">
                
                        <i class="fa fa-check"></i><b>3.</b>
                        
                            
                        
                        General Guidelines
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="security/Security.html">
            
                
                    <a href="../security/Security.html">
                
                        <i class="fa fa-check"></i><b>4.</b>
                        
                            
                        
                        Security
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="compatibility/Compatibility.html">
            
                
                    <a href="../compatibility/Compatibility.html">
                
                        <i class="fa fa-check"></i><b>5.</b>
                        
                            
                        
                        Compatibility
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="json-guidelines/JsonGuidelines.html">
            
                
                    <a href="../json-guidelines/JsonGuidelines.html">
                
                        <i class="fa fa-check"></i><b>6.</b>
                        
                            
                        
                        JSON Guidelines
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="naming/Naming.html">
            
                
                    <a href="../naming/Naming.html">
                
                        <i class="fa fa-check"></i><b>7.</b>
                        
                            
                        
                        Naming
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="resources/Resources.html">
            
                
                    <a href="../resources/Resources.html">
                
                        <i class="fa fa-check"></i><b>8.</b>
                        
                            
                        
                        Resources
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="http/Http.html">
            
                
                    <a href="../http/Http.html">
                
                        <i class="fa fa-check"></i><b>9.</b>
                        
                            
                        
                        HTTP
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="10" data-path="performance/Performance.html">
            
                
                    <a href="../performance/Performance.html">
                
                        <i class="fa fa-check"></i><b>10.</b>
                        
                            
                        
                        Performance
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="11" data-path="pagination/Pagination.html">
            
                
                    <a href="../pagination/Pagination.html">
                
                        <i class="fa fa-check"></i><b>11.</b>
                        
                            
                        
                        Pagination
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="hyper-media/Hypermedia.html">
            
                
                    <a href="../hyper-media/Hypermedia.html">
                
                        <i class="fa fa-check"></i><b>12.</b>
                        
                            
                        
                        Hypermedia
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13" data-path="data-formats/DataFormats.html">
            
                
                    <a href="../data-formats/DataFormats.html">
                
                        <i class="fa fa-check"></i><b>13.</b>
                        
                            
                        
                        Data Formats
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="14" data-path="common-data-types/CommonDataTypes.html">
            
                
                    <a href="../common-data-types/CommonDataTypes.html">
                
                        <i class="fa fa-check"></i><b>14.</b>
                        
                            
                        
                        Common Data Types
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15" data-path="headers/CommonHeaders.html">
            
                
                    <a href="../headers/CommonHeaders.html">
                
                        <i class="fa fa-check"></i><b>15.</b>
                        
                            
                        
                        Common Headers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16" data-path="headers/ProprietaryHeaders.html">
            
                
                    <a href="../headers/ProprietaryHeaders.html">
                
                        <i class="fa fa-check"></i><b>16.</b>
                        
                            
                        
                        Proprietary Headers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="17" data-path="deprecation/Deprecation.html">
            
                
                    <a href="../deprecation/Deprecation.html">
                
                        <i class="fa fa-check"></i><b>17.</b>
                        
                            
                        
                        Deprecation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18" data-path="api-operation/ApiOperation.html">
            
                
                    <a href="../api-operation/ApiOperation.html">
                
                        <i class="fa fa-check"></i><b>18.</b>
                        
                            
                        
                        API Operation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="19" data-path="events/events.html">
            
                
                    <a href="../events/events.html">
                
                        <i class="fa fa-check"></i><b>19.</b>
                        
                            
                        
                        Events
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="20" data-path="references/References.html">
            
                
                    <a href="../references/References.html">
                
                        <i class="fa fa-check"></i><b>20.</b>
                        
                            
                        
                        References
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="21" data-path="tooling/Tooling.html">
            
                
                    <a href="../tooling/Tooling.html">
                
                        <i class="fa fa-check"></i><b>21.</b>
                        
                            
                        
                        Tooling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="22" data-path="changelog/Changelog.html">
            
                
                    <a href="../changelog/Changelog.html">
                
                        <i class="fa fa-check"></i><b>22.</b>
                        
                            
                        
                        Changelog
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../">Introduction</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="performance">Performance</h1>
<h2 id="should-reduce-bandwidth-needs-and-improve-responsiveness"><span style="color:darkgoldenrod;font-weight:bold">Should:</span> Reduce Bandwidth Needs and Improve Responsiveness</h2>
<p>APIs should support techniques for reducing bandwidth based on client needs. This holds for APIs
that (might) have high payloads and/or are used in high-traffic scenarios like the public Internet
and telecommunication networks. Typical examples are APIs used by mobile web app clients with
(often) less bandwidth connectivity. (Zalando is a &apos;Mobile First&apos; company, so be mindful of this
point.)</p>
<p>Common techniques include:</p>
<ul>
<li>gzip compression</li>
<li>querying field filters to retrieve a subset of resource attributes (see <a href="Performance.html#should-support-filtering-of-resource-fields"><em>Support Filtering of Resource Fields</em></a>
below)</li>
<li>paginate lists of data items (see <a href="../pagination/Pagination.html"><em>Pagination</em></a> below)</li>
<li><code>ETag</code> and <code>If-(None-)Match</code> headers to avoid re-fetching of unchanged resources (see <a href="../headers/CommonHeaders.html#could-consider-using-etag-together-with-ifnonematch-header"><em>Common Headers</em></a></li>
<li>pagination for incremental access of larger (result) lists</li>
</ul>
<p>Each of these items is described in greater detail below.</p>
<h2 id="should-use-gzip-compression"><span style="color:darkgoldenrod;font-weight:bold">Should:</span> Use gzip Compression</h2>
<p>Compress the payload of your API&#x2019;s responses with gzip, unless there&#x2019;s a good reason not
to &#x2014; for example,  you are serving so many requests that the time to compress becomes a bottleneck.
This helps to transport data faster over the network (fewer bytes) and makes frontends respond faster.</p>
<p>Though gzip compression might be the default choice for server payload, the server should also support payload without compression and its client control via Accept-Encoding request header -- see also <a href="http://tools.ietf.org/html/rfc7231#section-5.3.4" target="_blank">RFC 7231 Section 5.3.4</a>. The server should indicate used gzip
compression via the Content-Encoding header.</p>
<h2 id="should-support-filtering-of-resource-fields"><span style="color:darkgoldenrod;font-weight:bold">Should:</span> Support Filtering of Resource Fields</h2>
<p>Depending on your use case and payload size, you can significantly reduce network bandwidth need by supporting filtering of returned entity fields. Here, the client can determine the subset of fields he wants to receive via the fields query parameter &#x2014; example see <a href="https://cloud.google.com/appengine/docs/python/taskqueue/rest/performance#partial-response" target="_blank">Google AppEngine API&apos;s partial response</a>:</p>
<h3 id="unfiltered">Unfiltered</h3>
<pre><code class="lang-http"><span class="hljs-request">GET <span class="hljs-string">http://api.example.org/resources/123</span> HTTP/1.1</span>

<span class="http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{
  &quot;<span class="hljs-attribute">id</span>&quot;: <span class="hljs-value"><span class="hljs-string">&quot;cddd5e44-dae0-11e5-8c01-63ed66ab2da5&quot;</span></span>,
  &quot;<span class="hljs-attribute">name</span>&quot;: <span class="hljs-value"><span class="hljs-string">&quot;John Doe&quot;</span></span>,
  &quot;<span class="hljs-attribute">address</span>&quot;: <span class="hljs-value"><span class="hljs-string">&quot;1600 Pennsylvania Avenue Northwest, Washington, DC, United States&quot;</span></span>,
  &quot;<span class="hljs-attribute">birthday</span>&quot;: <span class="hljs-value"><span class="hljs-string">&quot;1984-09-13&quot;</span></span>,
  &quot;<span class="hljs-attribute">partner</span>&quot;: <span class="hljs-value">{
    &quot;<span class="hljs-attribute">id</span>&quot;: <span class="hljs-value"><span class="hljs-string">&quot;1fb43648-dae1-11e5-aa01-1fbc3abb1cd0&quot;</span></span>,
    &quot;<span class="hljs-attribute">name</span>&quot;: <span class="hljs-value"><span class="hljs-string">&quot;Jane Doe&quot;</span></span>,
    &quot;<span class="hljs-attribute">address</span>&quot;: <span class="hljs-value"><span class="hljs-string">&quot;1600 Pennsylvania Avenue Northwest, Washington, DC, United States&quot;</span></span>,
    &quot;<span class="hljs-attribute">birthday</span>&quot;: <span class="hljs-value"><span class="hljs-string">&quot;1988-04-07&quot;</span>
  </span>}
</span>}
</span></span></code></pre>
<h3 id="filtered">Filtered</h3>
<pre><code class="lang-http"><span class="hljs-request">GET <span class="hljs-string">http://api.example.org/resources/123?fields=(name,partner(name))</span> HTTP/1.1</span>

<span class="http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{
  &quot;<span class="hljs-attribute">name</span>&quot;: <span class="hljs-value"><span class="hljs-string">&quot;John Doe&quot;</span></span>,
  &quot;<span class="hljs-attribute">partner</span>&quot;: <span class="hljs-value">{
    &quot;<span class="hljs-attribute">name</span>&quot;: <span class="hljs-value"><span class="hljs-string">&quot;Jane Doe&quot;</span>
  </span>}
</span>}
</span></span></code></pre>
<p>As illustrated by this example, field filtering should be done via request parameter &quot;fields&quot; with value range defined 
by the following <a href="https://en.wikipedia.org/wiki/Backus%E2%80%93Naur_form" target="_blank">BNF</a> grammar.</p>
<pre><code>&lt;fields&gt; ::= &lt;negation&gt; &lt;fields_expression&gt; | &lt;fields_expression&gt;

&lt;negation&gt; ::= &quot;!&quot;

&lt;fields_expression&gt; ::= &quot;(&quot; &lt;field_set&gt; &quot;)&quot;

&lt;field_set&gt; ::= &lt;qualified_field&gt; | &lt;qualified_field&gt; &quot;,&quot; &lt;field_set&gt;

&lt;qualified_field&gt; ::= &lt;field&gt; | &lt;field&gt; &lt;fields_expression&gt;

&lt;field&gt; ::= &lt;DASH_LETTER_DIGIT&gt; | &lt;DASH_LETTER_DIGIT&gt; &lt;field&gt;

&lt;DASH_LETTER_DIGIT&gt; ::= &lt;DASH&gt; | &lt;LETTER&gt; | &lt;DIGIT&gt;

&lt;DASH&gt; ::= &quot;-&quot; | &quot;_&quot;

&lt;LETTER&gt; ::= &quot;A&quot; | &quot;B&quot; | &quot;C&quot; | &quot;D&quot; | &quot;E&quot; | &quot;F&quot; | &quot;G&quot; | &quot;H&quot; | &quot;I&quot; | &quot;J&quot; | &quot;K&quot; | &quot;L&quot; | &quot;M&quot; | &quot;N&quot; | &quot;O&quot; | &quot;P&quot; | &quot;Q&quot; | &quot;R&quot; | &quot;S&quot; | &quot;T&quot; | &quot;U&quot; | &quot;V&quot; | &quot;W&quot; | &quot;X&quot; | &quot;Y&quot; | &quot;Z&quot; | &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot; | &quot;e&quot; | &quot;f&quot; | &quot;g&quot; | &quot;h&quot; | &quot;i&quot; | &quot;j&quot; | &quot;k&quot; | &quot;l&quot; | &quot;m&quot; | &quot;n&quot; | &quot;o&quot; | &quot;p&quot; | &quot;q&quot; | &quot;r&quot; | &quot;s&quot; | &quot;t&quot; | &quot;u&quot; | &quot;v&quot; | &quot;w&quot; | &quot;x&quot; | &quot;y&quot; | &quot;z&quot;

&lt;DIGIT&gt; ::= &quot;0&quot; | &quot;1&quot; | &quot;2&quot; | &quot;3&quot; | &quot;4&quot; | &quot;5&quot; | &quot;6&quot; | &quot;7&quot; | &quot;8&quot; | &quot;9&quot;
</code></pre><p>A <code>fields_expression</code> as defined by the grammar describes the properties of an object, i.e. <code>(name)</code> returns only the 
<code>name</code> property of the root object. <code>(name,partner(name))</code> returns the <code>name</code> and  <code>partner</code> properties where <code>partner</code> 
itself is also an object and only its <code>name</code> property is returned.</p>
<p>Hint: OpenAPI doesn&apos;t allow you to formally specify whether depending on a given parameter will
return different parts of the specified result schema. Explain this in English in the parameter
description.</p>
<h2 id="should-allow-optional-embedding-of-subresources"><span style="color:darkgoldenrod;font-weight:bold">Should:</span> Allow Optional Embedding of Sub-Resources</h2>
<p>Embedding related resources (also know as <em>Resource expansion</em>) is a great way to reduce the number of requests. In
cases where clients know upfront that they need some related resources they can instruct the server to prefetch that
data eagerly. Whether this is optimized on the server, e.g. a database join, or done in a generic way, e.g. an HTTP
proxy that transparently embeds resources, is up to the implementation.</p>
<p>See <a href="../naming/Naming.html#could-use-conventional-query-strings"><em>Conventional Query Parameters</em></a> for naming, e.g. 
&quot;embed&quot; for steering of embedded resource expansion. Please use the 
<a href="https://en.wikipedia.org/wiki/Backus%E2%80%93Naur_form" target="_blank">BNF</a> grammar, as already defined above for filtering, when it 
comes to an embedding query syntax.</p>
<p>Embedding a sub-resource can possibly look like this where an order resource has its order items as sub-resource (/order/{orderId}/items):</p>
<pre><code class="lang-http"><span class="hljs-request">GET <span class="hljs-string">/order/123?embed=(items)</span> HTTP/1.1</span>

<span class="json">{
  &quot;<span class="hljs-attribute">id</span>&quot;: <span class="hljs-value"><span class="hljs-string">&quot;123&quot;</span></span>,
  &quot;<span class="hljs-attribute">_embedded</span>&quot;: <span class="hljs-value">{
    &quot;<span class="hljs-attribute">items</span>&quot;: <span class="hljs-value">[
      {
        &quot;<span class="hljs-attribute">position</span>&quot;: <span class="hljs-value"><span class="hljs-number">1</span></span>,
        &quot;<span class="hljs-attribute">sku</span>&quot;: <span class="hljs-value"><span class="hljs-string">&quot;1234-ABCD-7890&quot;</span></span>,
        &quot;<span class="hljs-attribute">price</span>&quot;: <span class="hljs-value">{
          &quot;<span class="hljs-attribute">amount</span>&quot;: <span class="hljs-value"><span class="hljs-number">71.99</span></span>,
          &quot;<span class="hljs-attribute">currency</span>&quot;: <span class="hljs-value"><span class="hljs-string">&quot;EUR&quot;</span>
        </span>}
      </span>}
    ]
  </span>}
</span>}
</span></code></pre>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../http/Http.html" class="navigation navigation-prev " aria-label="Previous page: HTTP"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../pagination/Pagination.html" class="navigation navigation-next " aria-label="Next page: Pagination"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-edit-link/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"structured-toc":{},"gitbook-restructure-navigation":{"transformations":[{"from":0,"to":1}]},"edit-link":{"base":"https://github.com/zalando/restful-api-guidelines/edit/master","label":"Edit This Page"},"restructure-navigation":{},"anchors":{},"highlight":{},"search":{"maxIndexSize":1000000},"fontsettings":{"family":"sans","size":2,"theme":"white"}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
