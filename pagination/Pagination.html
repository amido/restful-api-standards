<!DOCTYPE HTML>
<html lang="en">
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Pagination | Introduction</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-anchors/plugin.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="../hyper-media/Hypermedia.html">
    
    
    <link rel="prev" href="../performance/Performance.html">
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="11" data-chapter-title="Pagination" data-filepath="pagination/Pagination.md" data-basepath=".." data-revision="Wed Jul 26 2017 10:26:05 GMT+0000 (UTC)" data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="1" data-path="TOC.html">
            
                
                    <a href="../TOC.html">
                
                        <i class="fa fa-check"></i>
                        
                            
                        
                        Table of Contents
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i><b>1.</b>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="design-principles/DesignPrinciples.html">
            
                
                    <a href="../design-principles/DesignPrinciples.html">
                
                        <i class="fa fa-check"></i><b>2.</b>
                        
                            
                        
                        Principles
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="general-guidelines/GeneralGuidelines.html">
            
                
                    <a href="../general-guidelines/GeneralGuidelines.html">
                
                        <i class="fa fa-check"></i><b>3.</b>
                        
                            
                        
                        General Guidelines
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="security/Security.html">
            
                
                    <a href="../security/Security.html">
                
                        <i class="fa fa-check"></i><b>4.</b>
                        
                            
                        
                        Security
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="compatibility/Compatibility.html">
            
                
                    <a href="../compatibility/Compatibility.html">
                
                        <i class="fa fa-check"></i><b>5.</b>
                        
                            
                        
                        Compatibility
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="json-guidelines/JsonGuidelines.html">
            
                
                    <a href="../json-guidelines/JsonGuidelines.html">
                
                        <i class="fa fa-check"></i><b>6.</b>
                        
                            
                        
                        JSON Guidelines
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="naming/Naming.html">
            
                
                    <a href="../naming/Naming.html">
                
                        <i class="fa fa-check"></i><b>7.</b>
                        
                            
                        
                        Naming
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="resources/Resources.html">
            
                
                    <a href="../resources/Resources.html">
                
                        <i class="fa fa-check"></i><b>8.</b>
                        
                            
                        
                        Resources
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="http/Http.html">
            
                
                    <a href="../http/Http.html">
                
                        <i class="fa fa-check"></i><b>9.</b>
                        
                            
                        
                        HTTP
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10" data-path="performance/Performance.html">
            
                
                    <a href="../performance/Performance.html">
                
                        <i class="fa fa-check"></i><b>10.</b>
                        
                            
                        
                        Performance
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="11" data-path="pagination/Pagination.html">
            
                
                    <a href="../pagination/Pagination.html">
                
                        <i class="fa fa-check"></i><b>11.</b>
                        
                            
                        
                        Pagination
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="hyper-media/Hypermedia.html">
            
                
                    <a href="../hyper-media/Hypermedia.html">
                
                        <i class="fa fa-check"></i><b>12.</b>
                        
                            
                        
                        Hypermedia
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13" data-path="data-formats/DataFormats.html">
            
                
                    <a href="../data-formats/DataFormats.html">
                
                        <i class="fa fa-check"></i><b>13.</b>
                        
                            
                        
                        Data Formats
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="14" data-path="common-data-types/CommonDataTypes.html">
            
                
                    <a href="../common-data-types/CommonDataTypes.html">
                
                        <i class="fa fa-check"></i><b>14.</b>
                        
                            
                        
                        Common Data Types
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15" data-path="headers/CommonHeaders.html">
            
                
                    <a href="../headers/CommonHeaders.html">
                
                        <i class="fa fa-check"></i><b>15.</b>
                        
                            
                        
                        Common Headers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16" data-path="headers/ProprietaryHeaders.html">
            
                
                    <a href="../headers/ProprietaryHeaders.html">
                
                        <i class="fa fa-check"></i><b>16.</b>
                        
                            
                        
                        Proprietary Headers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="17" data-path="deprecation/Deprecation.html">
            
                
                    <a href="../deprecation/Deprecation.html">
                
                        <i class="fa fa-check"></i><b>17.</b>
                        
                            
                        
                        Deprecation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18" data-path="api-operation/ApiOperation.html">
            
                
                    <a href="../api-operation/ApiOperation.html">
                
                        <i class="fa fa-check"></i><b>18.</b>
                        
                            
                        
                        API Operation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="19" data-path="events/events.html">
            
                
                    <a href="../events/events.html">
                
                        <i class="fa fa-check"></i><b>19.</b>
                        
                            
                        
                        Events
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="20" data-path="references/References.html">
            
                
                    <a href="../references/References.html">
                
                        <i class="fa fa-check"></i><b>20.</b>
                        
                            
                        
                        References
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="21" data-path="tooling/Tooling.html">
            
                
                    <a href="../tooling/Tooling.html">
                
                        <i class="fa fa-check"></i><b>21.</b>
                        
                            
                        
                        Tooling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="22" data-path="changelog/Changelog.html">
            
                
                    <a href="../changelog/Changelog.html">
                
                        <i class="fa fa-check"></i><b>22.</b>
                        
                            
                        
                        Changelog
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../">Introduction</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="pagination">Pagination</h1>
<h2 id="must-support-pagination"><span style="color:red;font-weight:bold">Must:</span> Support Pagination</h2>
<p>Access to lists of data items must support pagination for best client side batch processing and iteration experience. This holds true for all lists that are (potentially) larger than just a
few hundred entries.</p>
<p>There are two page iteration techniques:</p>
<ul>
<li><a href="http://developer.infoconnect.com/paging-results-limit-and-offset" target="_blank">Offset/Limit-based pagination</a>:
numeric offset identifies the first page entry</li>
<li><a href="https://dev.twitter.com/overview/api/cursoring" target="_blank">Cursor-based</a> &#x2014; aka key-based &#x2014; pagination: a
unique key element identifies the first page entry (see also
<a href="https://developers.facebook.com/docs/graph-api/using-graph-api/v2.4#paging" target="_blank">Facebook&#x2019;s guide</a>)</li>
</ul>
<p>The technical conception of pagination should also consider user experience related issues. As mentioned
in this <a href="https://www.smashingmagazine.com/2016/03/pagination-infinite-scrolling-load-more-buttons/" target="_blank">article</a>,
jumping to a specific page is far less used than navigation via next/previous page links. This favours
cursor-based over offset-based pagination.</p>
<h2 id="should-prefer-cursorbased-pagination-avoid-offsetbased-pagination"><span style="color:darkgoldenrod;font-weight:bold">Should:</span> Prefer Cursor-Based Pagination, Avoid Offset-Based Pagination</h2>
<p>Cursor-based pagination is usually better and more efficient when compared to offset-based pagination. Especially when it comes to
high-data volumes and / or storage in NoSQL databases.</p>
<p>Before choosing cursor-based pagination, consider the following trade-offs:</p>
<ul>
<li><p>Usability/framework support:</p>
<ul>
<li>Offset / limit based pagination is more known than cursor-based pagination, so it has more framework support and
is easier to use for API clients</li>
</ul>
</li>
<li><p>Use case: Jump to a certain page</p>
<ul>
<li>If jumping to a particular page in a range (e.g., 51 of 100) is really a required use case,
cursor-based navigation is not feasible</li>
</ul>
</li>
<li><p>Variability of data may lead to anomalies in result pages</p>
<ul>
<li>Offset-based pagination may create duplicates or lead to missing entries if rows are inserted or deleted between two subsequent paging requests.</li>
<li>When using cursor-based pagination, paging cannot continue when the cursor entry has been
deleted while fetching two pages</li>
</ul>
</li>
<li><p>Performance considerations - efficient server-side processing using offset-based pagination is hardly feasible for:</p>
<ul>
<li>Higher data list volumes, especially if they do not reside in the database&#x2019;s main memory</li>
<li>Sharded or NoSQL databases</li>
</ul>
</li>
<li><p>Cursor-based navigation may not work if you need the total count of results and / or backward iteration support</p>
</li>
</ul>
<p>Further reading:</p>
<ul>
<li><a href="https://dev.twitter.com/rest/public/timelines" target="_blank">Twitter</a></li>
<li><a href="http://use-the-index-luke.com/no-offset" target="_blank">Use the Index, Luke</a></li>
<li><a href="https://www.citusdata.com/blog/1872-joe-nelson/409-five-ways-paginate-postgres-basic-exotic" target="_blank">Paging in PostgreSQL</a></li>
</ul>
<h2 id="may-use-pagination-links-where-applicable"><span style="color:green;font-weight:bold">May:</span> Use Pagination Links Where Applicable</h2>
<ul>
<li>API implementing <a href="../hyper-media/Hypermedia.html#may-use-rest-maturity-level-3--hateoas">HATEOS</a> may use <a href="../hyper-media/Hypermedia.html#should-pagination-and-self-references">simplified hypertext controls</a> for pagination within collections.</li>
</ul>
<p>Those collections should then have an <code>items</code> attribute holding the items of the current page. The collection may contain additional metadata about the collection or the current page (e.g. <code>index</code>, <code>page_size</code>) when necessary.</p>
<p>You should avoid providing a total count in your API unless there&apos;s a clear need to do so. Very often, there are systems and performance implications to supporting full counts, especially as datasets grow and requests become complex queries or filters that drive full scans (e.g., your database might need to look at all candidate items to count them). While this is an implementation detail relative to the API, it&apos;s important to consider your ability to support serving counts over the life of a service.</p>
<p>If the collection consists of links to other resources, the collection name should use <a href="http://www.iana.org/assignments/link-relations/link-relations.xml" target="_blank">IANA registered link relations</a> as names whenever appropriate, but use plural form.</p>
<p>E.g. a service for articles could represent the collection of hyperlinks to an article&apos;s <code>authors</code> like that:</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;self&quot;</span>: <span class="hljs-string">&quot;https://.../articles/xyz/authors/&quot;</span>,
  <span class="hljs-string">&quot;index&quot;</span>: <span class="hljs-number">0</span>,
  <span class="hljs-string">&quot;page_size&quot;</span>: <span class="hljs-number">5</span>,
  <span class="hljs-string">&quot;items&quot;</span>: [
    {  
      <span class="hljs-string">&quot;href&quot;</span>: <span class="hljs-string">&quot;https://...&quot;</span>,
      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;123e4567-e89b-12d3-a456-426655440000&quot;</span>,
      <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Kent Beck&quot;</span>
    },
    {  
      <span class="hljs-string">&quot;href&quot;</span>: <span class="hljs-string">&quot;https://...&quot;</span>,
      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;987e2343-e89b-12d3-a456-426655440000&quot;</span>,
      <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Mike Beedle&quot;</span>
    },
    ...
  ],
  <span class="hljs-string">&quot;first&quot;</span>: <span class="hljs-string">&quot;https://...&quot;</span>,
  <span class="hljs-string">&quot;next&quot;</span>: <span class="hljs-string">&quot;https://...&quot;</span>,
  <span class="hljs-string">&quot;prev&quot;</span>: <span class="hljs-string">&quot;https://...&quot;</span>,
  <span class="hljs-string">&quot;last&quot;</span>: <span class="hljs-string">&quot;https://...&quot;</span>
}
</code></pre>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../performance/Performance.html" class="navigation navigation-prev " aria-label="Previous page: Performance"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../hyper-media/Hypermedia.html" class="navigation navigation-next " aria-label="Next page: Hypermedia"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-edit-link/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"structured-toc":{},"gitbook-restructure-navigation":{"transformations":[{"from":0,"to":1}]},"edit-link":{"base":"https://github.com/zalando/restful-api-guidelines/edit/master","label":"Edit This Page"},"restructure-navigation":{},"anchors":{},"highlight":{},"search":{"maxIndexSize":1000000},"fontsettings":{"family":"sans","size":2,"theme":"white"}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
