<!DOCTYPE HTML>
<html lang="en">
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Data Formats | Introduction</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-anchors/plugin.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="../common-data-types/CommonDataTypes.html">
    
    
    <link rel="prev" href="../hyper-media/Hypermedia.html">
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="13" data-chapter-title="Data Formats" data-filepath="data-formats/DataFormats.md" data-basepath=".." data-revision="Mon Aug 14 2017 11:36:04 GMT+0000 (UTC)" data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="1" data-path="TOC.html">
            
                
                    <a href="../TOC.html">
                
                        <i class="fa fa-check"></i>
                        
                            
                        
                        Table of Contents
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i><b>1.</b>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="design-principles/DesignPrinciples.html">
            
                
                    <a href="../design-principles/DesignPrinciples.html">
                
                        <i class="fa fa-check"></i><b>2.</b>
                        
                            
                        
                        Principles
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="general-guidelines/GeneralGuidelines.html">
            
                
                    <a href="../general-guidelines/GeneralGuidelines.html">
                
                        <i class="fa fa-check"></i><b>3.</b>
                        
                            
                        
                        General Guidelines
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="security/Security.html">
            
                
                    <a href="../security/Security.html">
                
                        <i class="fa fa-check"></i><b>4.</b>
                        
                            
                        
                        Security
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="compatibility/Compatibility.html">
            
                
                    <a href="../compatibility/Compatibility.html">
                
                        <i class="fa fa-check"></i><b>5.</b>
                        
                            
                        
                        Compatibility
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="json-guidelines/JsonGuidelines.html">
            
                
                    <a href="../json-guidelines/JsonGuidelines.html">
                
                        <i class="fa fa-check"></i><b>6.</b>
                        
                            
                        
                        JSON Guidelines
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="naming/Naming.html">
            
                
                    <a href="../naming/Naming.html">
                
                        <i class="fa fa-check"></i><b>7.</b>
                        
                            
                        
                        Naming
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="resources/Resources.html">
            
                
                    <a href="../resources/Resources.html">
                
                        <i class="fa fa-check"></i><b>8.</b>
                        
                            
                        
                        Resources
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="http/Http.html">
            
                
                    <a href="../http/Http.html">
                
                        <i class="fa fa-check"></i><b>9.</b>
                        
                            
                        
                        HTTP
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10" data-path="performance/Performance.html">
            
                
                    <a href="../performance/Performance.html">
                
                        <i class="fa fa-check"></i><b>10.</b>
                        
                            
                        
                        Performance
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="11" data-path="pagination/Pagination.html">
            
                
                    <a href="../pagination/Pagination.html">
                
                        <i class="fa fa-check"></i><b>11.</b>
                        
                            
                        
                        Pagination
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="hyper-media/Hypermedia.html">
            
                
                    <a href="../hyper-media/Hypermedia.html">
                
                        <i class="fa fa-check"></i><b>12.</b>
                        
                            
                        
                        Hypermedia
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="13" data-path="data-formats/DataFormats.html">
            
                
                    <a href="../data-formats/DataFormats.html">
                
                        <i class="fa fa-check"></i><b>13.</b>
                        
                            
                        
                        Data Formats
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="14" data-path="common-data-types/CommonDataTypes.html">
            
                
                    <a href="../common-data-types/CommonDataTypes.html">
                
                        <i class="fa fa-check"></i><b>14.</b>
                        
                            
                        
                        Common Data Types
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15" data-path="headers/CommonHeaders.html">
            
                
                    <a href="../headers/CommonHeaders.html">
                
                        <i class="fa fa-check"></i><b>15.</b>
                        
                            
                        
                        Common Headers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16" data-path="headers/ProprietaryHeaders.html">
            
                
                    <a href="../headers/ProprietaryHeaders.html">
                
                        <i class="fa fa-check"></i><b>16.</b>
                        
                            
                        
                        Proprietary Headers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="17" data-path="deprecation/Deprecation.html">
            
                
                    <a href="../deprecation/Deprecation.html">
                
                        <i class="fa fa-check"></i><b>17.</b>
                        
                            
                        
                        Deprecation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18" data-path="api-operation/ApiOperation.html">
            
                
                    <a href="../api-operation/ApiOperation.html">
                
                        <i class="fa fa-check"></i><b>18.</b>
                        
                            
                        
                        API Operation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="19" data-path="events/events.html">
            
                
                    <a href="../events/events.html">
                
                        <i class="fa fa-check"></i><b>19.</b>
                        
                            
                        
                        Events
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="20" data-path="references/References.html">
            
                
                    <a href="../references/References.html">
                
                        <i class="fa fa-check"></i><b>20.</b>
                        
                            
                        
                        References
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="21" data-path="tooling/Tooling.html">
            
                
                    <a href="../tooling/Tooling.html">
                
                        <i class="fa fa-check"></i><b>21.</b>
                        
                            
                        
                        Tooling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="22" data-path="changelog/Changelog.html">
            
                
                    <a href="../changelog/Changelog.html">
                
                        <i class="fa fa-check"></i><b>22.</b>
                        
                            
                        
                        Changelog
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../">Introduction</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="data-formats">Data Formats</h1>
<h2 id="must-use-json-to-encode-structured-data"><span style="color:red;font-weight:bold">Must:</span> Use JSON to Encode Structured Data</h2>
<p>Use JSON-encoded body payload for transferring structured data. 
The JSON payload must follow <a href="https://tools.ietf.org/html/rfc7159" target="_blank">RFC-7159</a> by having
(if possible) a serialized object as the top-level structure, since it would allow for future extension.
This also applies for collection resources where one naturally would assume an array. See the
<a href="../pagination/Pagination.html#could-use-pagination-links-where-applicable">pagination</a> section for an example.</p>
<h2 id="may-use-non-json-media-types-for-binary-data-or-alternative-content-representations"><span style="color:green;font-weight:bold">May:</span> Use non JSON Media Types for Binary Data or Alternative Content Representations</h2>
<p>Other media types may be used in following cases:</p>
<ul>
<li>Transferring binary data or data whose structure is not relevant. This is the case if payload structure
is not interpreted and consumed by clients as is. Example of such use case is downloading images
in formats JPG, PNG, GIF.</li>
<li>In addition to JSON version alternative data representations (e.g. in formats PDF, DOC, XML)
may be made available through content negotiation.</li>
</ul>
<h2 id="must-use-standard-date-and-time-formats"><span style="color:red;font-weight:bold">Must:</span> Use Standard Date and Time Formats</h2>
<h3 id="json-payload">JSON Payload</h3>
<p>Read more about date and time format in <a href="../json-guidelines/JsonGuidelines.html#date-property-values-should-conform-to-rfc-3399">Json Guideline</a>.</p>
<h3 id="http-headers">HTTP headers</h3>
<p>Http headers including the proprietary headers. Use the <a href="http://tools.ietf.org/html/rfc7231#section-7.1.1.1" target="_blank">HTTP date format defined in RFC 7231</a>.</p>
<h2 id="may-use-standards-for-country-language-and-currency-codes"><span style="color:green;font-weight:bold">May:</span> Use Standards for Country, Language and Currency Codes</h2>
<p>Use the following standard formats for country, language and currency codes:</p>
<ul>
<li><p><a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2" target="_blank">ISO 3166-1-alpha2 country codes</a></p>
<ul>
<li>(It is &#x201C;GB&#x201D;, not &#x201C;UK&#x201D;, even though &#x201C;UK&#x201D; has seen some use at Zalando)</li>
</ul>
</li>
<li><p><a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes" target="_blank">ISO 639-1 language code</a></p>
<ul>
<li><a href="https://tools.ietf.org/html/bcp47" target="_blank">BCP-47</a> (based on ISO 639-1) for language variants</li>
</ul>
</li>
<li><p><a href="https://en.wikipedia.org/wiki/ISO_4217" target="_blank">ISO 4217 currency codes</a></p>
</li>
</ul>
<h2 id="must-define-format-for-type-number-and-integer"><span style="color:red;font-weight:bold">Must:</span> Define Format for Type Number and Integer</h2>
<p>Whenever an API defines a property of type <code>number</code> or <code>integer</code>, the precision must be defined by the format as follows to prevent clients from guessing the precision incorrectly, and thereby changing the value unintentionally:</p>
<table>
<thead>
<tr>
<th>type</th>
<th>format</th>
<th>specified value range</th>
</tr>
</thead>
<tbody>
<tr>
<td>integer</td>
<td>int32</td>
<td>integer between -2<sup>31</sup> and 2<sup>31</sup>-1</td>
</tr>
<tr>
<td>integer</td>
<td>int64</td>
<td>integer between -2<sup>63</sup> and 2<sup>63</sup>-1</td>
</tr>
<tr>
<td>integer</td>
<td>bigint</td>
<td>arbitrarily large signed integer number</td>
</tr>
<tr>
<td>number</td>
<td>float</td>
<td>IEEE 754-2008/ISO 60559:2011 binary64 decimal number</td>
</tr>
<tr>
<td>number</td>
<td>double</td>
<td>IEEE 754-2008/ISO 60559:2011 binary128 decimal number</td>
</tr>
<tr>
<td>number</td>
<td>decimal</td>
<td>arbitrarily precise signed decimal number</td>
</tr>
</tbody>
</table>
<p>The precision must be translated by clients and servers into the most specific language types. E.g. for the following definitions the most specific language types in Java will translate to <code>BigDecimal</code> for <code>Money.amount</code> and <code>int</code> or <code>Integer</code> for the <code>OrderList.page_size</code>:</p>
<pre><code class="lang-yaml">Money:
  type: object
  properties:
    amount:
      type: number
      description: Amount expressed as a decimal number of major currency units
      format: decimal
      example: 99.95
   ...

OrderList:
  type: object
  properties:
    page_size:
      type: integer
      description: Number of orders in list
      format: int32
      example: 42
</code></pre>
<h2 id="should-prefer-standard-media-type-name-applicationjson"><span style="color:darkgoldenrod;font-weight:bold">Should:</span> Prefer standard Media type name <code>application/json</code></h2>
<p>Previously, this guideline allowed the use of custom media types like <code>application/x.zalando.article+json</code>.
This usage is not recommended anymore and should be avoided, except where it is necessary for cases
of <a href="../compatibility/Compatibility.html#must-use-media-type-versioning">media type versioning</a>. Instead, the standard media type name <code>application/json</code> (or <a href="http://zalando.github.io/restful-api-guidelines/common-data-types/CommonDataTypes.html#must-use-problem-json" target="_blank"><code>application/problem+json</code> for HTTP error details</a>) should be used for JSON-formatted data.</p>
<p>Custom media types with subtypes beginning with <code>x</code> bring no advantage compared to the standard media type for JSON, and make automated processing more difficult. They are also <a href="https://tools.ietf.org/html/rfc6838#section-3.4" target="_blank">discouraged by RFC 6838</a>.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../hyper-media/Hypermedia.html" class="navigation navigation-prev " aria-label="Previous page: Hypermedia"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../common-data-types/CommonDataTypes.html" class="navigation navigation-next " aria-label="Next page: Common Data Types"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-edit-link/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"structured-toc":{},"gitbook-restructure-navigation":{"transformations":[{"from":0,"to":1}]},"edit-link":{"base":"https://github.com/zalando/restful-api-guidelines/edit/master","label":"Edit This Page"},"restructure-navigation":{},"anchors":{},"highlight":{},"search":{"maxIndexSize":1000000},"fontsettings":{"family":"sans","size":2,"theme":"white"}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
